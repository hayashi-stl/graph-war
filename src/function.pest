func = { SOI ~ expr ~ EOI }
expr = { add }
add = { mul ~ (add_sign ~ mul)* }
mul = { neg ~ (mul_sign ~ neg)* }
neg = { "-"? ~ exp }
exp = { primary ~ ("^" ~ primary )* }
primary = { call_2 | call_1 | primitive }
primitive = { var | constant | "(" ~ expr ~ ")" }
call_1 = { name ~ primitive }
call_2 = { name ~ primitive ~ primitive }
var = { "t" }
constant = @{ "-"? ~ ASCII_DIGIT+ ~ ("." ~ ASCII_DIGIT+)? }

name = @{ ASCII_ALPHA ~ ASCII_ALPHANUMERIC* }
mul_sign = { "*" | "/" }
add_sign = { "+" | "-" }

WHITESPACE = _{ " " }